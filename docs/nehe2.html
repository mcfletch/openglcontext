<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
  <title>NeHe2 for OpenGLContext</title>
  <link rel="stylesheet" type="text/css" href="style/tutorial.css">
  <meta name="author" content="Mike C. Fletcher">
</head>
<body>
<h1>NeHe2 for OpenGLContext</h1>
<p class="introduction">This document discusses the <a
 href="http://nehe.gamedev.net/tutorials/lesson.asp?l=02">NeHe2 tutorial</a>
by Jeff Molofee. It introduces basic geometric-primitive rendering using
glBegin/glEnd and glVertex, and the use of the Render customisation
point for Contexts.</p>
<p>See <a href="nehe1.html">NeHe1</a> for discussion of the basic
Context setup procedure here...<br>
</p>
<pre>from OpenGLContext import testingcontext<br>BaseContext, MainFunction = testingcontext.getInteractive()<br>from OpenGL.GL import *<br><br>class TestContext( BaseContext ):<br></pre>
<p>As seen before, we sub-class BaseContext. &nbsp;This time, however,
we set initialPosition to (0,0,0). &nbsp;By default the Context
positions the camera at 0,0,10, looking toward the origin (0,0,0) so
that geometry defined at the origin is visible. &nbsp;The NeHe tutorial,
however, repositions the camera itself, so we need to override the
default position.<br>
</p>
<pre>	# set initial camera position, tutorial does the re-positioning<br>	initialPosition = (0,0,0)<br></pre>
<p>Now we override the "Render" method of the Context. &nbsp;The Render
method is called by the system after the viewpoint and projection
matrices are established, and can be used for simple rendering of
geometry and the like.<br>
</p>
<p class="technical">Note: this is something of an over-simplification,
Render is only called if there is no scenegraph object reported by the
Context. &nbsp;By default, however, there is no scenegraph, so we don't
worry about it in the NeHe tutorial translations.</p>
<p> The "mode" object passed to Render is a render mode/pass object
which describes the current rendering mode and provides various
services. &nbsp;We won't worry about it for this example.</p>
<pre>	def Render( self, mode = 0):<br>		"""Render the geometry for the scene."""<br>		BaseContext.Render( self, mode )<br></pre>
<p>By default OpenGLContext enables face-culling, which eliminates
backward-facing polygons. &nbsp;The tutorial assumes the feature is
disabled, so we disable it.</p>
<pre>		glDisable( GL_CULL_FACE )<br></pre>
<p>The rest of the Render function is taken from the original NeHe
tutorial.<br>
</p>
<pre>		## Moves the drawing origin 6 units into the screen <br>		## and 1.5 units to the left<br>		glTranslatef(-1.5,0.0,-6.0);<br>		## Starts the geometry generation mode<br>		glBegin(GL_TRIANGLES)<br>		glVertex3f( 0.0,  1.0, 0.0)<br>		glVertex3f(-1.0, -1.0, 0.0)<br>		glVertex3f( 1.0, -1.0, 0.0)<br>		glEnd()<br>		<br>		## Moves the drawing origin again, <br>		## cumulative change is now (1.5,0.0,6.0)<br>		glTranslatef(3.0,0.0,0.0);<br><br>		## Starts a different geometry generation mode<br>		glBegin(GL_QUADS)<br>		glVertex3f(-1.0,-1.0, 0.0)<br>		glVertex3f( 1.0,-1.0, 0.0)<br>		glVertex3f( 1.0, 1.0, 0.0)<br>		glVertex3f(-1.0, 1.0, 0.0)<br>		glEnd();<br><br></pre>
<p>And finally, we make the script run MainFunction with an instance of
our TestContext if the module is run as a script.<br>
</p>
<pre>if __name__ == "__main__":<br>	## We only want to run the main function if we<br>	## are actually being executed as a script<br>	MainFunction ( TestContext)<br></pre>
<p>You can find the complete code for this sample in
OpenGLContext/tests/nehe2.py<br>
</p>
<p class="footer"><a href="documentation.html"><img
 src="images/doc_icon.gif" title="" alt="Documentation"
 style="border: 0px solid ; width: 32px; height: 32px;" align="middle"></a> <a
 href="http://pyopengl.sourceforge.net/context/"><img
 src="images/context_logo_icon.png" title="" alt="OpenGLContext"
 style="border: 0px solid ; width: 32px; height: 32px;" align="middle"></a> <a
 href="http://pyopengl.sourceforge.net/"><img align="middle" title=""
 alt="PyOpenGL" src="images/pyopengl_icon.jpg"
 style="border: 0px solid ; width: 32px; height: 32px;"></a> A
SourceForge Open-Source project: <a href="http://sourceforge.net"><img
 src="http://sourceforge.net/sflogo.php?group_id=5988&amp;type=1"
 style="border: 0px solid ; width: 88px; height: 31px;"
 alt="SourceForge" title="" align="middle"></a></p>
</body>
</html>
