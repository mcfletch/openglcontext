<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
  <title>NeHe5 for OpenGLContext</title>
  <link rel="stylesheet" type="text/css" href="style/tutorial.css">
  <meta name="author" content="Mike C. Fletcher">
</head>
<body>
<h1>NeHe5 for OpenGLContext</h1>
<p class="introduction">This&nbsp;document discusses the <a
 href="http://nehe.gamedev.net/tutorials/lesson.asp?l=05">NeHe5 tutorial</a>
by Jeff Molofee. It draws a closed shapes (a pyramid and a box) rather
than individual polygons.</p>
<p>See <a href="nehe4.html">NeHe4</a> for discussion of the Context
setup procedure here...<br>
</p>
<pre>from OpenGLContext import testingcontext<br>BaseContext, MainFunction = testingcontext.getInteractive()<br>from OpenGL.GL import *<br>import time<br><br>class TestContext( BaseContext ):<br>	# set initial camera position, tutorial does the re-positioning<br>	initialPosition = (0,0,0)<br>	def Render( self, mode = 0):<br>		"""Draw scene geometry"""<br>		BaseContext.Render( self, mode )<br>		glDisable( GL_LIGHTING)<br>		glTranslatef(-1.5,0.0,-6.0);<br>		glRotated( time.time()%(3.0)/3 * 360, 0,1,0)<br></pre>
<p>We refactor the tutorial code to create a method for drawing the
pyramid object and cube objects, instead of including the code in the
main Render method (just for neatness sake). &nbsp;The rest of the
Render function is all stuff we've seen before.</p>
<pre>		self.drawPyramid()<br><br>		glLoadIdentity()<br>		glTranslatef(1.5,0.0,-6.0);<br>		glRotated( time.time()%(1.0)/1 * -360, 1,0,0)<br><br>		self.drawCube()<br><br>	def OnIdle( self, ):<br>		"""Request refresh of the context whenever idle"""<br>		self.triggerRedraw(1)<br>		return 1<br></pre>
<p>The actual rendering code as two methods, taken directly from the
original tutorial.<br>
</p>
<pre>	def drawPyramid( self ):<br>		"""Draw a multicolored pyramid"""<br>		glBegin(GL_TRIANGLES);<br>		glColor3f(1.0,0.0,0.0)<br>		glVertex3f( 0.0, 1.0, 0.0)<br>		glColor3f(0.0,1.0,0.0)<br>		glVertex3f(-1.0,-1.0, 1.0)<br>		glColor3f(0.0,0.0,1.0)<br>		glVertex3f( 1.0,-1.0, 1.0)<br>		glColor3f(1.0,0.0,0.0)<br>		glVertex3f( 0.0, 1.0, 0.0)<br>		glColor3f(0.0,0.0,1.0)<br>		glVertex3f( 1.0,-1.0, 1.0);<br>		glColor3f(0.0,1.0,0.0);<br>		glVertex3f( 1.0,-1.0, -1.0);<br>		glColor3f(1.0,0.0,0.0);<br>		glVertex3f( 0.0, 1.0, 0.0);<br>		glColor3f(0.0,1.0,0.0);<br>		glVertex3f( 1.0,-1.0, -1.0);<br>		glColor3f(0.0,0.0,1.0);<br>		glVertex3f(-1.0,-1.0, -1.0);<br>		glColor3f(1.0,0.0,0.0);<br>		glVertex3f( 0.0, 1.0, 0.0);<br>		glColor3f(0.0,0.0,1.0);<br>		glVertex3f(-1.0,-1.0,-1.0);<br>		glColor3f(0.0,1.0,0.0);<br>		glVertex3f(-1.0,-1.0, 1.0);<br>		glEnd()<br>	def drawCube( self ):<br>		"""Draw a multicolored cube"""<br>		glBegin(GL_QUADS);<br>		glColor3f(0.0,1.0,0.0)<br>		glVertex3f( 1.0, 1.0,-1.0)<br>		glVertex3f(-1.0, 1.0,-1.0)<br>		glVertex3f(-1.0, 1.0, 1.0)<br>		glVertex3f( 1.0, 1.0, 1.0)<br>		glColor3f(1.0,0.5,0.0)<br>		glVertex3f( 1.0,-1.0, 1.0)<br>		glVertex3f(-1.0,-1.0, 1.0)<br>		glVertex3f(-1.0,-1.0,-1.0)<br>		glVertex3f( 1.0,-1.0,-1.0)<br>		glColor3f(1.0,0.0,0.0)<br>		glVertex3f( 1.0, 1.0, 1.0)<br>		glVertex3f(-1.0, 1.0, 1.0)<br>		glVertex3f(-1.0,-1.0, 1.0)<br>		glVertex3f( 1.0,-1.0, 1.0)<br>		glColor3f(1.0,1.0,0.0)<br>		glVertex3f( 1.0,-1.0,-1.0)<br>		glVertex3f(-1.0,-1.0,-1.0)<br>		glVertex3f(-1.0, 1.0,-1.0)<br>		glVertex3f( 1.0, 1.0,-1.0)<br>		glColor3f(0.0,0.0,1.0)<br>		glVertex3f(-1.0, 1.0, 1.0)<br>		glVertex3f(-1.0, 1.0,-1.0)<br>		glVertex3f(-1.0,-1.0,-1.0)<br>		glVertex3f(-1.0,-1.0, 1.0)<br>		glColor3f(1.0,0.0,1.0)<br>		glVertex3f( 1.0, 1.0,-1.0)<br>		glVertex3f( 1.0, 1.0, 1.0)<br>		glVertex3f( 1.0,-1.0, 1.0)<br>		glVertex3f( 1.0,-1.0,-1.0)<br>		glEnd()<br></pre>
<p>And finally, as always, we make the script run MainFunction with an
instance of our TestContext if the module is run as a script.<br>
</p>
<pre>if __name__ == "__main__":<br>	## We only want to run the main function if we<br>	## are actually being executed as a script<br>	MainFunction ( TestContext)<br></pre>
<p>You can find the complete code for this sample in
OpenGLContext/tests/nehe5.py<br>
</p>
<p class="footer"><a href="documentation.html"><img
 src="images/doc_icon.gif" title="" alt="Documentation"
 style="border: 0px solid ; width: 32px; height: 32px;" align="middle"></a> <a
 href="http://pyopengl.sourceforge.net/context/"><img
 src="images/context_logo_icon.png" title="" alt="OpenGLContext"
 style="border: 0px solid ; width: 32px; height: 32px;" align="middle"></a> <a
 href="http://pyopengl.sourceforge.net/"><img align="middle" title=""
 alt="PyOpenGL" src="images/pyopengl_icon.jpg"
 style="border: 0px solid ; width: 32px; height: 32px;"></a> A
SourceForge Open-Source project: <a href="http://sourceforge.net"><img
 src="http://sourceforge.net/sflogo.php?group_id=5988&amp;type=1"
 style="border: 0px solid ; width: 88px; height: 31px;"
 alt="SourceForge" title="" align="middle"></a></p>
</body>
</html>
